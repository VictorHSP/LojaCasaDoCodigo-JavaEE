<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html">

<h:head>
	<title>Livros Casa do Código</title>
</h:head>
	
<h:body>
	
	<ui:composition template="/template/layout.xhtml">
		<ui:define name="content">
			<h:messages id="succes-save" styleClass="alert alert-success margin-default" role="alert" >
			</h:messages>
			
			<h2>Livros cadastrado</h2>
			<br/>
			<h:form>
				<div class="btn-cadastrar" >
					<h:commandButton action="#{adminListBookBean.form}" 
						value="Cadastrar Livros" styleClass="btn btn-dark"/>
				</div>
			</h:form>
			<h:dataTable value="#{adminListBookBean.books}"
				var="book" styleClass="table table-sm  table-hover">
			
				<h:column>
					<f:facet name="header">
						Título
					</f:facet>
					#{book.title}
				</h:column>
				
				<h:column>
					<f:facet name="header">
						Descrição
					</f:facet>
					#{book.description}
				</h:column>
				
				<h:column>
					<f:facet name="header">
						Número de páginas
					</f:facet>
					#{book.numberOfpages}
				</h:column>
				
				<h:column>
					<f:facet name="header">
						Preço
					</f:facet>
					#{adminListBookBean.convertPrice(book.price)}
				</h:column>
				
				<h:column>
					<f:facet name="header">
						Data de Lançamento
					</f:facet>
					#{adminListBookBean.convertDate(book.releaseDate)}
				</h:column>
				
				<h:column>
					<f:facet name="header">
						Autores
					</f:facet>
					<ui:repeat var="author" 
						value="#{book.authors}">
						#{author.name} | 
					</ui:repeat>
				</h:column>
				
			</h:dataTable>		
			
			<div class="container">
				<div class="card-deck text-center">
				<ui:repeat var="book" value="#{adminListBookBean.books}">
					<div class="card mb-3" style="max-width: 18rem;">
						<h:graphicImage 
						  width="280"
						  height="384" 
						  alt="Capa do Livro" 
						  title="Capa do Livro" styleClass="card-igm-top" 
						  value="#{book.summaryPath}" />
						  
					  	<div class="card-body text-dark">
						  <h5 class="card-title">
						  	<h:outputText value="#{book.title}"/>
						  </h5>
						  <p class="card-text">
						  	<h:outputText value="#{book.description}"/>
						  </p>
						  <p>
						  	#{adminListBookBean.convertPrice(book.price)}
						  </p>
				 	  	</div>
			 	  	</div>
				</ui:repeat>
				</div>
			</div>
		</ui:define>
	</ui:composition>
	
	
</h:body>
	
</html>